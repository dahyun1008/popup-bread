<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="${popupInfo.title}">팝업 상세</title>
    <link rel="stylesheet" th:href="@{/css/style.css}"/>
    <style>
        /* 헤더 */
        .header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            height: 80px;
            padding: 0 20px;
            border-bottom: 1px solid #ddd;
            background-color: #fff;
            position: sticky;
            top: 0;
            z-index: 10;
        }
        .header .logo { height: 50px; width: auto; object-fit: contain; }
        .header h2 { flex: 1; text-align: center; font-size: 22px; font-weight: bold; margin: 0; color: #2d4a3e; }

        /* 캐러셀 */
        .carousel { position: relative; width: 100%; max-width: 900px; margin: 0 auto; overflow: hidden; }
        .carousel-images { display: flex; transition: transform 0.3s ease-in-out; }
        .carousel-images img { width: 100%; max-height: 480px; object-fit: cover; flex-shrink: 0; }
        .indicator { position: absolute; bottom: 10px; right: 12px; background: rgba(0,0,0,0.6); color: #fff;
            padding: 4px 10px; border-radius: 12px; font-size: 13px; }

        /* 버튼 */
        .carousel-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0,0,0,0.5);
            border: none;
            color: #fff;
            font-size: 30px;
            cursor: pointer;
            padding: 8px 12px;
            border-radius: 50%;
            z-index: 5;
        }
        .carousel-btn.prev { left: 10px; }
        .carousel-btn.next { right: 10px; }
        .carousel-btn:hover { background: rgba(0,0,0,0.8); }

        /* 상세 정보 */
        .popup-detail { max-width: 900px; margin: 20px auto; padding: 0 16px; }
        .popup-detail h1 { font-size: 24px; font-weight: bold; margin-bottom: 10px; }
        .info-row { display: flex; justify-content: space-between; font-size: 15px; color: #555; }

        @media (max-width: 600px) {
            .popup-detail h1 { font-size: 20px; }
            .info-row { flex-direction: column; gap: 6px; }
            .header h2 { font-size: 18px; }
        }
    </style>
</head>
<body>
<!-- 헤더 -->
<div class="header">
    <a th:href="@{/popups}">
        <img th:src="@{/images/logo.webp}" alt="세모빵 로고" class="logo">
    </a>
    <h2>팝업 정보</h2>
</div>

<!-- 이미지 캐러셀 -->
<div th:if="${popupInfo.imageKeys != null and !popupInfo.imageKeys.isEmpty()}" class="carousel">
    <button class="carousel-btn prev" id="prevBtn">&#10094;</button>
    <div class="carousel-images" id="carouselImages"></div>
    <button class="carousel-btn next" id="nextBtn">&#10095;</button>
    <div class="indicator" id="carouselIndicator"></div>
</div>

<!-- 상세 정보 -->
<div class="popup-detail">
    <h1 th:text="${popupInfo.title}">팝업 제목</h1>
    <div class="info-row">
        <span th:text="${popupInfo.place + ' ' + popupInfo.detailLocation}">서울 강남 신세계 강남점</span>
        <span th:text="${popupInfo.startDate} + ' ~ ' + ${popupInfo.endDate}">2025.07.16 ~ 2025.07.19</span>
    </div>
</div>

<!-- JS에서 사용될 이미지 키 배열 주입 -->
<script th:inline="javascript">
    /*<![CDATA[*/
    window.popupImageKeys = [[${popupInfo.imageKeys}]];
    /*]]>*/
</script>
<script src="/js/popup-detail.js"></script>
</body>
</html>
